@model IEnumerable<BMSBT.Models.ElectricityBill>
@{
    ViewData["Title"] = "Search Bills";
    Layout = "~/Views/Shared/_LayoutEBills.cshtml";
}

<style>
    /* Center align search box */
    .search-container {
        max-width: 600px;
        margin: 20px auto;
        text-align: center;
    }

    /* Flexbox for alignment */
    .search-box {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
    }

    /* Search input styling */
    .search-input {
        width: 50%;
        padding: 8px;
        border: 1px solid #ccc;
        border-radius: 5px;
    }

    /* Button styling */
    .search-button {
        padding: 8px 15px;
        border: none;
        border-radius: 5px;
        background-color: #007bff;
        color: white;
        cursor: pointer;
    }

        .search-button:hover {
            background-color: #0056b3;
        }

    /* Table Styling */
    .table {
        border-collapse: collapse;
        width: 100%;
        background-color: #f8f9fa;
    }

        .table th {
            background-color: #142141;
            color: white;
            text-align: center;
            padding: 10px;
        }

        .table td {
            text-align: center;
            padding: 10px;
        }

        /* Hover effect */
        .table tbody tr:hover {
            background-color: #e0e0e0;
            transition: 0.3s;
        }

    /* No records message */
    .no-records {
        text-align: center;
        font-size: 18px;
        font-weight: bold;
        color: red;
        margin-top: 20px;
    }
</style>

<div class="search-container">
    <h3>E-Bills (BT No. Or Customer Name</h3>
    <form method="get" action="@Url.Action("SearchBills")" class="search-box">
        <input type="text" name="search" class="form-control search-input" placeholder="Enter Bill No or Customer Name" />
        <button type="submit" class="search-button">Search</button>
    </form>
</div>

@if (!Model.Any())
{
    <p class="no-records">No records found.</p>
}
else
{
    <table class="table">
        <thead>
            <tr>
                <th>Bill No.</th>
                <th>Customer Name</th>
                <th>Month</th>
                <th>billing Year</th>
                <th>Status</th>
                <th>Arrears</th>
                <th>Bill Amount</th>
                <th>Due Date</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr ondblclick="openBill(@item.Uid)">
                    <td>@item.Btno</td>
                    <td>@item.CustomerName</td>
                    <td>@item.BillingMonth</td>
                    <td>@item.BillingYear</td>                   
                    <td>@item.PaymentStatus</td>
                    <td>0</td>
                    <td>@item.BillAmountInDueDate</td>
                    <td>@item.DueDate</td>
                </tr>
            }
        </tbody>
    </table>
}

<script>
    function openBill(id) {
        window.location.href = '/Billing/Details/' + id;
    }
</script>
